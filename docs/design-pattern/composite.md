---
title: 组合模式
date: 2020-12-31
categories:
  - 设计模式
tags:
  - 概念
---

## 介绍

**意图**：将对象组合成树形结构以表示"部分-整体"的层次结构。组合模式使得用户对单个对象和组合对象的使用具有一致性。

**主要解决问题**：它在我们树型结构的问题中，模糊了简单元素和复杂元素的概念，客户程序可以像处理简单元素一样来处理复杂元素，从而使得客户程序与复杂元素的内部结构解耦。

**实现方式**：树枝和叶子实现统一接口，树枝内部组合该接口。

**关键代码**：树枝内部组合该接口，并且含有内部属性 List，里面放 Component。

**优点**：

1. 高层模块调用简单。
2. 节点自由增加。

**缺点**：在使用组合模式时，其叶子和树枝的声明都是实现类，而不是接口，违反了依赖倒置原则。

**使用场景**：部分、整体场景，如树形菜单，文件、文件夹的管理。

## 代码

[代码](https://github.com/syfxlin/code/blob/master/design-pattern-java/src/main/java/me/ixk/design_pattern/composite)
