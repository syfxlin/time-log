---
title: HTTP - TCP/IP
date: 2020-09-04
categories:
  - HTTP
tags:
  - 概念
---

最近几天就简单的整理下之前做好的一些 HTTP 笔记吧

## 分层模型

目前存在的两种网络分层模型：OSI 模型和 TCP/IP 模型。OSI 模型一共分为七层，TCP/IP 模型和 OSI 模型类似，不过一共只分为四层。

### TCP/IP

1. 链接层：负责在以太网、WiFi 这样的底层网络上发送原始数据包，工作在网卡这个层次，使用 MAC 地址来标记网络上的设备，所以有时候也叫 MAC 层。
2. 网际层：IP 协议就处在这一层。因为 IP 协议定义了“IP 地址”的概念，所以就可以在“链接层”的基础上，用 IP 地址取代 MAC 地址，把许许多多的局域网、广域网连接成一个虚拟的巨大网络，在这个网络里找设备时只要把 IP 地址再“翻译”成 MAC 地址就可以了。
3. 传输层：这个层次协议的职责是保证数据在 IP 地址标记的两点之间“可靠”地传输，是 TCP 协议工作的层次，另外还有它的一个“小伙伴”UDP。
4. 应用层：这个层次的协议非常多，有各种面向具体应用的协议，如 HTTP，SSH，FTP 等。

链接层的传输单位是帧，网际层的传输单位是包，传输层的传输单位是段，应用层的传输单位是报文。

### OSI

1. 物理层：网络的物理形式，例如电缆、光纤、网卡、集线器等等；
2. 数据链路层：它基本相当于 TCP/IP 的链接层；
3. 网络层：相当于 TCP/IP 里的网际层；
4. 传输层：相当于 TCP/IP 里的传输层；
5. 会话层：维护网络中的连接状态，即保持会话和同步；
6. 表示层：把数据转换为合适、可理解的语法和语义；
7. 应用层：面向具体的应用传输数据。

### 两种分层模型对应关系

![两种分层模型对应关系](https://cdn.jsdelivr.net/gh/syfxlin/pic/2020/09/20200904191805.png)

## 传输

### 报文封装

TCP/IP 在传输的时候在经过每一层都会添加对应的一些信息，如下面是 HTTP 报文传输的过程：

![HTTP 报文传输过程](https://cdn.jsdelivr.net/gh/syfxlin/pic/2020/09/20200904191950.png)

### 数据包在网络中的传输

![数据包在网络中的传输](https://cdn.jsdelivr.net/gh/syfxlin/pic/2020/09/20200904192221.png)
