---
title: 原型模式
date: 2020-12-25
categories:
  - 设计模式
tags:
  - 概念
---

## 介绍

原型模式是创建型模式的一种，其特点在于通过“复制”一个已经存在的实例来返回新的实例,而不是新建实例。被复制的实例就是我们所称的“原型”，这个原型是可定制的。原型模式多用于创建复杂的或者耗时的实例，因为这种情况下，复制一个已经存在的实例使程序运行更高效；或者创建值相等，只是命名不一样的同类数据。

## 代码

[代码](https://github.com/syfxlin/code/blob/master/design-pattern-java/src/main/java/me/ixk/design_pattern/prototype)

## 深拷贝浅拷贝

浅拷贝在拷贝的时候会创建一个和原型对一样的对象，同时将原型对象中的所有属性设置到拷贝对象上，如果值为基本类型，那么拷贝的就是基本类型的值，如果值为引用类型，那么拷贝的就只是这个值引用。这样拷贝会造成拷贝的对象的值更改时，原型对象的属性值也跟着改变。

深拷贝在拷贝的时候会创建一个和原型对一样的对象，同时将原型对象中所有的属性设置到浅拷贝对象上，如果值为基本类型，则拷贝基本类型值，如果值为引用类型则递归进行拷贝。这样拷贝的对象就是独立的对象，修改这个拷贝对象不影响原型对象。
